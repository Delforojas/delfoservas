/* ====== LAYOUT & FONDO DEL SECTION ====== */
:host section{
  position: relative;

  /* 🔧 FIX: no recortar el contenido */
  overflow: visible !important;

  /* 🔧 FIX: no limites la altura al 40% que viene del html; deja crecer */
  height: auto !important;
  min-height: 70vh;              /* da aire cuando no hay filas */

  /* tu efecto de fondo */
  background-size: 200% 200%;
  animation: gradientShift 12s ease-in-out infinite;

  border: 1px solid rgba(0,0,0,.06);
}

/* opcional: algo de separación para que no quede pegado */
:host section{ margin-top: 1rem; margin-bottom: 2rem; }

@keyframes gradientShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* Halo suave en el borde superior del card */
:host section::before{
  content:"";
  position:absolute; inset:-40% -40% auto -40%;
  height:140px;
  background:radial-gradient(600px 120px at 50% 100% ,rgba(255,255,255,.25),transparent 70%);
  pointer-events:none;
}
@keyframes gradientShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* Halo suave en el borde superior del card */
:host section::before{
  content:"";
  position:absolute; inset:-40% -40% auto -40%;
  height:140px;
  background:radial-gradient(600px 120px at 50% 100% ,rgba(255,255,255,.25),transparent 70%);
  pointer-events:none;
}

/* ====== TÍTULO ====== */
:host h2{
  background:linear-gradient(90deg,#065f46,#10b981,#2563eb);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  letter-spacing:.4px;
  text-shadow:0 2px 10px rgba(0,0,0,.18);
}

/* ====== BOTONES DE DÍAS ====== */
:host .flex.flex-wrap.justify-center.gap-3.mb-6 button{
  position:relative;
  border-radius:14px;
  font-weight:800;
  letter-spacing:.3px;
  box-shadow:0 10px 18px rgba(16,185,129,.25);
  transition:transform .15s ease, box-shadow .2s ease, filter .2s ease, background-color .2s ease;
  outline:0;
}
:host .flex.flex-wrap.justify-center.gap-3.mb-6 button:hover{
  transform:translateY(-2px) scale(1.03);
  box-shadow:0 14px 26px rgba(16,185,129,.32);
}
:host .flex.flex-wrap.justify-center.gap-3.mb-6 button:active{ transform:none }
:host .flex.flex-wrap.justify-center.gap-3.mb-6 button:focus-visible{
  box-shadow:0 0 0 3px rgba(59,130,246,.5), 0 10px 18px rgba(16,185,129,.25);
}

/* Estado ACTIVO del día seleccionado (usa .dia-activo desde TS si quieres marcarlo) */
:host .dia-activo{
  background:#059669 !important;
  color:#fff;
  box-shadow:0 12px 24px rgba(5,150,105,.45) !important;
}

/* ====== TABLA ====== */
:host table{
  border-radius:12px;
  border:1px solid rgba(0,0,0,.06);
  overflow:hidden;
}

/* Cabecera sticky + blur */
:host thead{
  position:sticky; top:0; z-index:2;
  backdrop-filter:blur(8px);
  -webkit-backdrop-filter:blur(8px);
  box-shadow:0 2px 10px rgba(0,0,0,.08);
}
:host thead th{
  font-weight:800;
  color:#0f172a;
  letter-spacing:.2px;
  white-space:nowrap;
}

/* Filas zebra + hover elegante */
:host tbody tr:nth-child(odd){ background:#fdfcf8; }
:host tbody tr:nth-child(even){ background:#fafafa; }
:host tbody tr{
  transition:background-color .15s ease, transform .08s ease;
}
:host tbody tr:hover{
  background:#bbf7d0; /* green-200 */
  transform:translateY(-1px);
}

/* Celdas y divisores suaves */
:host td, :host th{
  border-bottom:1px dashed rgba(0,0,0,.06);
}

/* ====== BADGES / ESTADOS ====== */
:host .badge-completa{
  display:inline-flex; align-items:center; gap:.3rem;
  padding:.1rem .45rem; border-radius:999px;
  background:#fee2e2; color:#b91c1c; font-weight:700; font-size:.75rem;
}
:host .badge-free{
  display:inline-flex; align-items:center; gap:.3rem;
  padding:.1rem .45rem; border-radius:999px;
  background:#dcfce7; color:#065f46; font-weight:700; font-size:.75rem;
}

/* ====== BOTÓN RESERVAR/CANCELAR ====== */
:host td .flex button{
  font-weight:800; letter-spacing:.25px;
  min-width:92px;
  box-shadow:0 8px 16px rgba(0,0,0,.16);
  transition:transform .1s ease, box-shadow .2s ease, filter .15s ease;
}
:host td .flex button:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 22px rgba(0,0,0,.24);
}
:host td .flex button:active{ transform:none }

/* Loading / deshabilitado */
:host td .flex button[disabled]{
  position:relative;
  filter:grayscale(.1) brightness(.96);
}
:host td .flex button[disabled]::after{
  content:"";
  position:absolute; inset:0;
  background-image:linear-gradient(120deg,transparent, rgba(255,255,255,.35), transparent);
  animation:shine 1.2s linear infinite;
}
@keyframes shine{
  0%{transform:translateX(-100%)}
  100%{transform:translateX(100%)}
}

/* ====== PANEL ALUMNOS (fila expandible) ====== */
:host tr[ng-reflect-ng-if="true"] + tr td > div,
:host tr + tr:has(> td > div){
  animation:slideIn .22s ease-out both;
}
@keyframes slideIn{
  from{opacity:0; transform:translateY(-4px)}
  to{opacity:1; transform:translateY(0)}
}
:host table .odd\:bg-white,
:host table .even\:bg-gray-50{
  transition:background-color .12s ease;
}
:host table .odd\:bg-white:hover,
:host table .even\:bg-gray-50:hover{
  background:#ecfccb; /* lime-100 */
}

/* ====== EMPTY STATE ====== */
:host .text-gray-500.text-sm.text-center.py-6{
  animation:fadeIn .25s ease;
}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}

/* ====== RESPONSIVE ====== */
@media (max-width:640px){
  :host section{ border-radius:14px; }
  :host thead th{ font-size:.9rem; }
  :host td, :host th{ padding-left:.5rem !important; padding-right:.5rem !important; }
}

/* ====== TABLA DE ALUMNOS ====== */
:host table.w-full.text-xs.bg-yellow-200 {
  width: 100%;
  border-radius: 8px;
  border-collapse: collapse;
  overflow: hidden;
  background: linear-gradient(180deg, #fef9c3 0%, #fef08a 100%);
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
}

/* Filas zebra + hover suave */
:host tr.odd\:bg-white,
:host tr.even\:bg-gray-50 {
  transition: background-color 0.2s ease, transform 0.15s ease;
}
:host tr.odd\:bg-white:hover,
:host tr.even\:bg-gray-50:hover {
  background-color: #bbf7d0; /* verde claro */
  transform: translateY(-1px);
}

/* Celdas */
:host td.p-0 {
  border-bottom: 1px dashed rgba(0, 0, 0, 0.05);
}

/* ====== CONTENEDOR INTERIOR ====== */
:host div.flex.justify-between.items-center {
  background: rgba(255, 255, 255, 0.6);
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  transition: background-color 0.2s ease, color 0.2s ease, transform 0.2s ease;
}
:host div.flex.justify-between.items-center:hover {
  background-color: #86efac; /* verde-300 */
  color: #000;
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

/* Nombre del alumno */
:host span.whitespace-nowrap {
  font-weight: 600;
  font-size: 0.85rem;
  color: #374151;
  letter-spacing: 0.2px;
  transition: color 0.2s ease;
}
:host div.flex.justify-between.items-center:hover span.whitespace-nowrap {
  color: #065f46; /* verde-800 */
}

/* ====== BOTÓN (derecha de cada fila) ====== */
:host div.flex.justify-between.items-center button {
  background: linear-gradient(90deg, #10b981, #059669);
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 0.25rem 0.6rem;
  font-weight: 600;
  font-size: 0.75rem;
  letter-spacing: 0.3px;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  transition: all 0.25s ease;
}

:host div.flex.justify-between.items-center button:hover {
  background: linear-gradient(90deg, #34d399, #10b981);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.35);
}

:host div.flex.justify-between.items-center button:active {
  transform: translateY(0);
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.25);
}

/* ====== ANIMACIÓN DE ENTRADA ====== */
@keyframes fadeSlideIn {
  from {
    opacity: 0;
    transform: translateY(-6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
:host table.w-full.text-xs.bg-yellow-200 {
  animation: fadeSlideIn 0.25s ease forwards;
}